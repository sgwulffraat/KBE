#!/usr/bin/env python
# -*- coding: utf-8 -*-
#
# Copyright (C) 2016-2021 ParaPy Holding B.V.
#
# This file is subject to the terms and conditions defined in
# the license agreement that you have received with this source code
#
# THIS CODE AND INFORMATION ARE PROVIDED "AS IS" WITHOUT WARRANTY OF ANY
# KIND, EITHER EXPRESSED OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
# IMPLIED WARRANTIES OF MERCHANTABILITY AND/OR FITNESS FOR A PARTICULAR
# PURPOSE.

import os
import sys

__all__ = ["LIC_FILE"]


def is_frozen():
    """Is the current application code *frozen?*, i.e. built by a tool like
    py2exe.

    :rtype: bool
    """
    # All of the modules are built-in to the interpreter, e.g., by py2exe
    return hasattr(sys, "frozen")


def main_dir():
    """Return top-level directory of parapy source code.

    :rtype: str
    """
    if is_frozen():
        return os.path.join(os.path.dirname(sys.executable),
                            "parapy")
    return os.path.dirname(__file__)


#: This will be the directory on your computer where this file resides,
#: but in case of executable building, it will be the parapy directory in the
#: same folder as where the .exe resides.
PKG_DIR = main_dir()
# TODO (TBD): Remove USR_DIR.
#: User directory. Used to store, for example, GUI camera views.
USR_DIR = os.path.join(PKG_DIR, "user")
#: support e-mail address
SUPPORT_EMAIL = "support@parapy.nl"
#: The .parapy folder in the user directory
PARAPY_USER_DIR = os.path.join(os.path.expanduser("~"), ".parapy")

# environment variable names
ENV_PARAPY_CONFIG = 'PARAPY_CONFIG'
ENV_PARAPY_LIC = 'PARAPY_LIC'

#: Can be pre-set by user to defined custom path to parapy.lic file:
#:
#: >>> import parapy
#: >>> parapy.globs.LIC_FILE = 'path/to/your/parapy.lic'
#: >>> from parapy.core import *
#:
#: Or by setting the ``PARAPY_LIC`` environment variable to the parapy.lic
#: file.
#:
#: :type: str | None
LIC_FILE = os.getenv(ENV_PARAPY_LIC)

if __name__ == '__main__':
    print("Package directory:", PKG_DIR)
    print("User directory:", USR_DIR)
